@tailwind base;
@tailwind components;
@tailwind utilities;

@import "./transitions.css";

:root {
  /* Light theme colors */
  --color-background: #ffffff;
  --color-foreground: #000000;
  --color-primary: #0070f3;
  --color-secondary: #7928ca;
  --color-accent: #f81ce5;
  --color-border: #eaeaea;
  --color-muted: #f5f5f5;
  --color-text-muted: #666666;

  /* Gradient defaults - will be overridden by theme */
  --gradient-start: #ffffff;
  --gradient-end: #ffffff;
  --gradient-background: linear-gradient(135deg, #ffffff 0%, #ffffff 100%);

  /* Global font family - optimized for multi-language support */
  --font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Noto Sans",
    "Helvetica Neue", Helvetica, "Nimbus Sans L", Arial, "Liberation Sans",
    "PingFang SC", "Hiragino Sans GB", "Noto Sans CJK SC", "Source Han Sans SC",
    "Source Han Sans CN", "Microsoft YaHei", "WenQuanYi Micro Hei",
    "WenQuanYi Zen Hei", "ST Heiti", SimHei, "WenQuanYi Zen Hei Sharp",
    sans-serif;

  /* Z-index system */
  --z-index-background: -1;
  --z-index-base: 0;
  --z-index-content: 1;
  --z-index-header: 99;
  --z-index-footer: 100;
  --z-index-topbar: 1000;
  --z-index-particles: 1000;
}

.dark {
  /* Dark theme colors */
  --color-background: #000000;
  --color-foreground: #ffffff;
  --color-primary: #0070f3;
  --color-secondary: #7928ca;
  --color-accent: #f81ce5;
  --color-border: #333333;
  --color-muted: #1a1a1a;
  --color-text-muted: #999999;

  /* Gradient defaults for dark mode - will be overridden by theme */
  --gradient-start: #000000;
  --gradient-end: #000000;
  --gradient-background: linear-gradient(135deg, #000000 0%, #000000 100%);
}

* {
  box-sizing: border-box;
  padding: 0;
  margin: 0;
}

/* Fluid root font-size based on viewport */
html {
  /* Scale from 14px (mobile) to 16px (desktop) based on viewport width */
  /* Using clamp(min, preferred, max) with vw */
  font-size: clamp(0.875rem, 0.8vw + 0.6rem, 1rem);
  /* Alternative: scale based on both width and height for better responsiveness */
  /* font-size: clamp(0.875rem, calc(0.5vw + 0.3vh + 0.5rem), 1rem); */
  /* Apply global font family */
  font-family: var(--font-family);
}

body {
  max-width: 100vw;
  overflow-x: hidden;
  background: var(--gradient-background, var(--color-background));
  background-attachment: fixed;
  color: var(--color-foreground);
  transition: background 0.5s ease, color 0.3s ease;
  /* Global font family - optimized for multi-language support and cross-platform compatibility */
  font-family: var(--font-family);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
  font-feature-settings: "kern" 1;
  font-kerning: normal;
}

/* Main content area with padding for fixed header and footer */
.main-content {
  position: relative;
  min-height: 100vh;
  padding-top: clamp(
    5rem,
    18vw + 2rem,
    9rem
  ); /* Space for TopBar + Navigation + Header */
  padding-bottom: clamp(5rem, 8vw + 3rem, 8rem); /* Space for Footer */
  transition: padding-top 0.3s ease, padding-bottom 0.3s ease;
  background: var(--gradient-background, var(--color-background));
  background-attachment: fixed;
}

/* Page transition animations */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.page-enter {
  animation: fadeIn 0.5s ease-out;
}

/* Smooth transitions for theme color changes */
/* Note: CSS custom properties don't support transitions directly */
/* Instead, we transition the properties that use these variables */
/* Apply transitions selectively to elements that use theme colors */
body,
.btn,
.card,
.input,
[class*="bg-"],
[class*="text-"],
[class*="border-"] {
  transition: background-color 0.3s ease, color 0.3s ease,
    border-color 0.3s ease, box-shadow 0.3s ease;
}

a {
  color: inherit;
  text-decoration: none;
}

/* Common utility classes */
.container {
  width: 100%;
  margin-left: auto;
  margin-right: auto;
  padding-left: 1rem;
  padding-right: 1rem;
  /* Fluid max-width based on viewport */
  max-width: min(100%, calc(80vw + 10rem));
}

/* Button styles */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0.5rem 1rem;
  border-radius: 0.375rem;
  font-weight: 500;
  transition: all 0.2s ease;
  border: 1px solid
    color-mix(in srgb, var(--color-primary) 30%, var(--color-border));
  background-color: var(--color-background);
  color: var(--color-foreground);
  cursor: pointer;
}

.btn:hover {
  background-color: color-mix(
    in srgb,
    var(--color-primary) 10%,
    var(--color-muted)
  );
  border-color: color-mix(
    in srgb,
    var(--color-primary) 50%,
    var(--color-border)
  );
}

.btn-primary {
  background-color: var(--color-primary);
  color: white;
  border-color: var(--color-primary);
  transition: background-color 0.2s ease, border-color 0.2s ease,
    opacity 0.2s ease;
}

.btn-primary:hover {
  opacity: 0.9;
}

/* Glass effect (glassmorphism) utility class */
.glass-effect {
  background: color-mix(in srgb, var(--color-background) 70%, transparent);
  backdrop-filter: blur(20px) saturate(180%);
  -webkit-backdrop-filter: blur(20px) saturate(180%);
  border: 1px solid
    color-mix(in srgb, var(--color-primary) 15%, var(--color-border));
  box-shadow: 0 8px 32px 0
      color-mix(in srgb, var(--color-primary) 10%, rgba(0, 0, 0, 0.1)),
    inset 0 1px 0 0 color-mix(in srgb, var(--color-foreground) 5%, transparent);
  transition: background 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;
}

/* Dark mode glass effect adjustment */
.dark .glass-effect {
  background: color-mix(in srgb, var(--color-background) 60%, transparent);
  border: 1px solid
    color-mix(in srgb, var(--color-primary) 20%, var(--color-border));
  box-shadow: 0 8px 32px 0
      color-mix(in srgb, var(--color-primary) 15%, rgba(0, 0, 0, 0.3)),
    inset 0 1px 0 0 color-mix(in srgb, var(--color-foreground) 10%, transparent);
}

/* Card styles with glass effect */
.card {
  background: color-mix(in srgb, var(--color-background) 70%, transparent);
  backdrop-filter: blur(20px) saturate(180%);
  -webkit-backdrop-filter: blur(20px) saturate(180%);
  border: 1px solid
    color-mix(in srgb, var(--color-primary) 15%, var(--color-border));
  border-radius: 0.5rem;
  /* Fluid padding scales with root font-size */
  padding: clamp(1rem, 2vw + 0.5rem, 1.5rem);
  box-shadow: 0 8px 32px 0
      color-mix(in srgb, var(--color-primary) 10%, rgba(0, 0, 0, 0.1)),
    inset 0 1px 0 0 color-mix(in srgb, var(--color-foreground) 5%, transparent);
  transition: background 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;
}

.dark .card {
  background: color-mix(in srgb, var(--color-background) 60%, transparent);
  border: 1px solid
    color-mix(in srgb, var(--color-primary) 20%, var(--color-border));
  box-shadow: 0 8px 32px 0
      color-mix(in srgb, var(--color-primary) 15%, rgba(0, 0, 0, 0.3)),
    inset 0 1px 0 0 color-mix(in srgb, var(--color-foreground) 10%, transparent);
}

/* Input styles */
.input {
  width: 100%;
  padding: 0.5rem 0.75rem;
  border: 1px solid
    color-mix(in srgb, var(--color-primary) 25%, var(--color-border));
  border-radius: 0.375rem;
  background-color: var(--color-background);
  color: var(--color-foreground);
  transition: border-color 0.2s ease;
}

.input:focus {
  outline: none;
  border-color: var(--color-primary);
  box-shadow: 0 0 0 3px
    color-mix(in srgb, var(--color-primary) 15%, transparent);
}

/* Fluid typography utility classes */
.fluid-text-xs {
  font-size: clamp(0.625rem, 1.2vw + 0.4rem, 0.75rem);
}

.fluid-text-sm {
  font-size: clamp(0.75rem, 1.2vw + 0.4rem, 0.875rem);
}

.fluid-text-base {
  font-size: clamp(0.875rem, 1.5vw + 0.5rem, 1rem);
}

.fluid-text-lg {
  font-size: clamp(1.125rem, 2vw + 0.5rem, 1.25rem);
}

.fluid-text-xl {
  font-size: clamp(1.25rem, 3vw + 0.5rem, 1.5rem);
}

.fluid-text-2xl {
  font-size: clamp(1.5rem, 4vw + 0.5rem, 2rem);
}

.fluid-text-3xl {
  font-size: clamp(1.75rem, 5vw + 0.5rem, 2.5rem);
}

/* Fluid spacing utility classes */
.fluid-padding {
  padding: clamp(1rem, 3vw + 0.5rem, 2rem);
}

.fluid-padding-y {
  padding-top: clamp(1rem, 3vw + 0.5rem, 2rem);
  padding-bottom: clamp(1rem, 3vw + 0.5rem, 2rem);
}

.fluid-gap {
  gap: clamp(1rem, 2vw + 0.5rem, 1.5rem);
}

.fluid-gap-sm {
  gap: clamp(0.5rem, 1.5vw + 0.25rem, 1rem);
}

.fluid-mb {
  margin-bottom: clamp(0.5rem, 1.5vw + 0.25rem, 1rem);
}

.fluid-mt {
  margin-top: clamp(0.5rem, 1.5vw + 0.25rem, 1rem);
}

/* Fluid width utilities */
.fluid-min-width-button {
  min-width: clamp(8rem, 20vw, 10rem);
}

.fluid-min-width-theme-btn {
  min-width: clamp(3.5rem, 8vw, 4.5rem);
}

.fluid-min-width-selector {
  min-width: clamp(15rem, 30vw, 18rem);
}
